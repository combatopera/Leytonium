#!/usr/bin/env python3

#HALP Show a commit that was listed by st.

from common import runlines, args, showmenu, menu, pb, chain

def main():
    items = [line.split(' ', 2)[1:] for line in runlines(['git', 'cherry', '-v', pb()])]
    items.reverse()
    v = args()
    if v:
        n, = v
        n = int(n)
        id = showmenu(items, False)[n]
    else:
        _, id = menu(items, 'Show which commit')
    chain(['git', 'show', id])

if '__main__' == __name__:
    main()
