#!/usr/bin/env python3

#HALP Publish this branch, accepts push options.

from common import thisbranch, pb, UnknownParentException, run, args

def main():
    name = thisbranch()
    try:
        if 'kitchen-sink' == pb():
            raise Exception('Refusing to push kitchen-sink based branch.')
    except UnknownParentException:
        pass
    run(['git', 'push', '-u', 'origin', name] + args())

if '__main__' == __name__:
    main()
