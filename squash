#!/bin/bash

set -e

function cherry {
    git cherry $base | tac | while read _ id; do
        echo $id "$(git log -n 1 --format=%s $id)"
    done
}

. git_functions

base=$(pb)

id=$(menu cherry Which commit should absorb all newer commits)

git reset --soft $id~1

git commit -c $id
