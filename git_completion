. git_functions

function _otherbranches {
    local branches="$(git branch | grep -v '^[*]' | cut -c 3-)"
    COMPREPLY=($(compgen -W "$branches" $2))
}

function _branchnames {
    local names="$(git branch | cut -c 3- | grep -v '^master$' | sed 's/^[^-]*-//')"
    COMPREPLY=($(compgen -W "$names" $2))
}

function _demonames {
    local names="$(
        cdtocorda
        cd samples
        for d in *; do [[ -e $d/build.gradle ]] && echo $d; done
    )"
    COMPREPLY=($(compgen -W "$names" $2))
}

function _commonmessages {
    COMPREPLY=($(compgen -W 'conciser refactor refactoring undup redundant mv ren inline formatting' $2))
}

complete -F _otherbranches co
complete -F _otherbranches eb
complete -F _branchnames br
complete -F _demonames demo
complete -F _commonmessages ci
